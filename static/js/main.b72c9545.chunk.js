(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){},108:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},160:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),o=a.n(c),l=a(23),s=a(11),i=(a(106),a(12)),u=a(20),m=a(91),d=a(4),f=Object(d.a)(function(e){return e.error},function(e){return e}),_=function(e){return{type:"SET_RESTAURANTS_ERROR",payload:e}},E=Object(d.a)(function(e){return e.isLoading},function(e){return e}),p=Object(d.a)(function(e){return e.restaurantsListData},function(e){if(!e)return[];var t=e.feedItems,a=e.storesMap;return t.map(function(e){var t=e.uuid;return a[t]})}),g=Object(d.a)(function(e){return e.searchAddress},function(e){return e}),v=Object(d.a)(function(e){return e.chosenTime},function(e){return e}),h=Object(d.a)(function(e){return e.searchQuery},function(e){return e}),N=a(69),b=Object(d.a)(function(e){return e.restaurantData},function(e){return e||null}),y=Object(d.a)(function(e){return e.restaurantData},function(e){return e?e.sections.map(function(t){return Object(N.a)({},e.sectionsMap[t],{itemUuids:e.sectionsMap[t].itemUuids.map(function(t){return Object(N.a)({},e.entitiesMap[t],{currencyCode:e.currencyCode})})})}):[]}),S=a(47),O=a.n(S),k=function(e){return{type:"SET_MODAL_ORDER_DATA",payload:e}},A=Object(d.a)(function(e){return e.modalOrderData},function(e){return e?e.data:e}),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODAL_ORDER_DATA":return t.payload;default:return e}},R=Object(u.c)({restaurantsListData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_RESTAURANTS":return t.payload;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"SET_IS_LOADING":return!0;case"SET_IS_LOADED":return!1;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RESTAURANTS_ERROR":return t.payload;default:return e}},searchAddress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCHADDRESS":return t.payload;default:return e}},chosenTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHOSEN_TIME":return t.payload;default:return e}},searchQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_QUERY":return t.payload;default:return e}},restaurantData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_RESTAURANT_DATA":return t.payload;default:return e}},modalOrderData:j}),T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,D=[m.a],w=Object(u.e)(R,T(u.a.apply(void 0,D))),C=(a(108),function(e){var t=e.imageUrl,a=e.title,n=e.categories,c=e.etaRange,o=e.uuid;return r.a.createElement(l.b,{to:"/restaurantId/".concat(o),className:"restaurant-card"},r.a.createElement("img",{loading:"lazy",src:t,alt:a,className:"restaurant-card__img"}),r.a.createElement("h2",{className:"restaurant-card__title"},a),r.a.createElement("div",{className:"restaurant-card__categories"},n.join(" \u2022 ")),r.a.createElement("div",{className:"restaurant-card__eta"},c))});C.defaultProps={categories:[],etaRange:""};a(112),a(113);var U=function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))},I=(a(114),function(e){var t=e.message,a=e.setRestaurantsError;return Object(n.useEffect)(function(){return function(){a(null)}},[]),r.a.createElement("div",{className:"error"},r.a.createElement("p",{className:"error__text"},"Error occurred... it's comething like - ".concat(t,";\n        Try to reload this page, or go on home page\n      ")),r.a.createElement("a",{href:"/",className:"error__link"},"Go to HOME"))});I.defaultProps={message:"Sorry, something went wrong"};var L={setRestaurantsError:_},M=Object(s.b)(null,L)(I),x=function(e){var t=e.restaurantsData,a=e.loadRESTAURANTS,c=e.error,o=e.isLoading,l=(e.address,e.time,e.search);Object(n.useEffect)(function(){0===t.length&&a()},[]);var s=Object(n.useMemo)(function(){return t.filter(function(e){var t=l.trim().toLowerCase(),a=e.title,n=e.categories,r=e.etaRange,c=e.slug;return!!(a+n.join(" ")+r+c).toLowerCase().includes(t)})},[l,t]);return o?r.a.createElement(U,null):c?r.a.createElement(M,{message:c}):r.a.createElement("div",{className:"restaurants-list-page"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"restaurants-list"},s.map(function(e){var t=e.uuid,a=e.title,n=e.heroImageUrl,c=e.categories,o=e.etaRange;return r.a.createElement(C,{key:t,uuid:t,title:a,imageUrl:n,categories:c,etaRange:o?o.text:"20 - 30 min"})}))))};x.defaultProps={restaurantsData:[],error:null,isLoading:!1};var P={loadRESTAURANTS:function(){return function(e){e({type:"SET_IS_LOADING"}),fetch("https://mate-uber-eats-api.herokuapp.com/api/v1/restaurants").then(function(e){return e.json()}).then(function(t){var a=t.data;e(function(e){return{type:"SAVE_RESTAURANTS",payload:e}}(a))}).catch(function(t){return e(_(t.message))}).finally(function(){return e({type:"SET_IS_LOADED"})})}}},z=Object(s.b)(function(e){return{restaurantsData:p(e),error:f(e),isLoading:E(e),address:g(e),time:v(e),search:h(e)}},P)(x),G=a(25),H=(a(115),a(74)),V=a(46),F=a(5),Q=a.n(F),B=(a(160),r.a.memo(function(e){var t=e.iconUrl,a=e.value,c=e.onChange,o=e.type,l=e.placeholder,s=e.name,i=e.className,u=Object(n.useState)(!1),m=Object(G.a)(u,2),d=m[0],f=m[1],_=Q()("control",Object(V.a)({"control--focused":d},i,!!i)),E=Object(n.useRef)();return r.a.createElement("div",{className:_,onClick:function(){return E.current.focus()},role:"presentation"},!!t&&r.a.createElement("img",{src:t,alt:l,className:"control__icon"}),r.a.createElement("input",{ref:E,onFocus:function(){f(!0)},onBlur:function(){f(!1)},type:o,value:a,onChange:c,name:s,placeholder:l,className:"control__input"}))}));B.defaultProps={iconUrl:"",type:"text",placeholder:"",className:""};a(161);var Y=Object(s.b)(function(e){return{address:g(e),time:v(e),search:h(e)}},function(e){return{setAdress:function(t){e({type:"SET_SEARCHADDRESS",payload:t})},setTime:function(t){e({type:"SET_CHOSEN_TIME",payload:t})},setSearch:function(t){e({type:"SET_SEARCH_QUERY",payload:t})}}})(function(e){var t=e.address,a=e.setAdress,c=e.time,o=e.setTime,s=e.search,i=e.setSearch,u=Object(n.useState)(!1),m=Object(G.a)(u,2),d=m[0],f=m[1],_=Object(n.useState)(!1),E=Object(G.a)(_,2),p=E[0],g=E[1],v=Object(n.useCallback)(function(e){var t=e.target;a(t.value)},[]),h=Object(n.useCallback)(function(e){o(e)},[]),N=Object(n.useCallback)(function(e){var t=e.target;i(t.value)},[]);return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header-inner"},r.a.createElement(l.b,{to:"/"},r.a.createElement("img",{className:"header__logo",src:"./react_uber-eats/images/logo.svg",alt:"Uber Eats"})),r.a.createElement(B,{name:"address",value:t,onChange:v,placeholder:"Address",iconUrl:"./react_uber-eats/images/place.svg",className:"header__address"}),r.a.createElement("div",{className:"header__time"},r.a.createElement(H.a,{showSecond:!1,placeholder:"ASAP",onChange:h,value:c})),r.a.createElement(B,{name:"search",value:s,onChange:N,placeholder:"Search",iconUrl:"./react_uber-eats/images/search.svg",className:"header__search"}),r.a.createElement("div",{className:"header__mobile-controls"},r.a.createElement("button",{onClick:function(){f(!d),g(!1)},className:"header__mobile-location-toggler",type:"button"},r.a.createElement("img",{src:"./react_uber-eats/images/location-icon.png",alt:"location-icon"})),r.a.createElement("button",{onClick:function(){g(!p),f(!1)},className:"header__mobile-search-toggler",type:"button"},r.a.createElement("img",{src:"./react_uber-eats/images/search-icon.png",alt:"location-icon"}))),r.a.createElement("a",{href:"/sign-in",className:"header__sign-in"},"Sign In")),(p||d)&&r.a.createElement("div",{className:"mobile-search-section"},d&&r.a.createElement("div",{className:"mobile-location-container"},r.a.createElement("div",{className:"mobile-search-section__time--mobile"},r.a.createElement(H.a,{showSecond:!1,placeholder:"ASAP",onChange:h,value:c})),r.a.createElement(B,{name:"address",value:t,onChange:v,placeholder:"Address",iconUrl:"./react_uber-eats/images/place.svg",className:"mobile-search-section__address--mobile"})),p&&r.a.createElement(B,{name:"search",value:s,onChange:N,placeholder:"Search",iconUrl:"./react_uber-eats/images/search.svg",className:"mobile-search-section__search--mobile"}),r.a.createElement("button",{type:"button",onClick:function(){f(!1),g(!1)},className:"mobile-search-section__close-button"}))))}),q=(a(162),a(163),function(e){var t=e.name,a=e.value,c=e.onSelect,o=e.options,l=e.iconUrl,s=Object(n.useRef)(),i=function(){s.current.focus()};return r.a.createElement("div",{onKeyDown:i,tabIndex:"0",role:"searchbox",onClick:i,className:"select"},r.a.createElement("select",{ref:s,name:t,defaultValue:a,onChange:c,className:"select__input"},o.map(function(e){var t=e.value,a=e.label;return r.a.createElement("option",{key:t,className:"select__option",value:t},a)})),!!l&&r.a.createElement("img",{className:"select__icon",src:l,alt:"select icon"}),r.a.createElement("img",{className:"select__arrow",src:"./react_uber-eats/images/arrow-back.png",alt:"arrow down"}))});q.defaultProps={options:[],iconUrl:"",onSelect:function(){}};var J=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"footer__top-part"},r.a.createElement("div",{className:"footer__main"},r.a.createElement("div",{className:"footer__logo-container"},r.a.createElement("a",{href:"#",className:"footer__logo"},r.a.createElement("img",{src:"./react_uber-eats/images/logo-white.png",alt:"Uber Eats"})),r.a.createElement("div",{className:"footer__select-language"},r.a.createElement(q,{name:"language",options:[{value:"en",label:"English"},{value:"ua",label:"Ukrainian"}],value:"en",iconUrl:"./react_uber-eats/images/world.png"}))),r.a.createElement("div",{className:"footer__mobile-container"},r.a.createElement("a",{href:"#",className:"footer__app-store"},r.a.createElement("img",{src:"./react_uber-eats/images/app-store-logo.png",alt:"App store"})),r.a.createElement("a",{href:"#",className:"footer__google-play"},r.a.createElement("img",{src:"./react_uber-eats/images/google-play-logo.png",alt:"Google play"})))),r.a.createElement("div",{className:"footer__links-container"},r.a.createElement("div",{className:"footer__links"},r.a.createElement("a",{className:"footer__link",href:"#"},"About UberEats"),r.a.createElement("a",{className:"footer__link",href:"#"},"Read our blog"),r.a.createElement("a",{className:"footer__link",href:"#"},"Sign up to deliver"),r.a.createElement("a",{className:"footer__link",href:"#"},"Add your restaurant")),r.a.createElement("div",{className:"footer__links"},r.a.createElement("a",{className:"footer__link",href:"#"},"Get help"),r.a.createElement("a",{className:"footer__link",href:"#"},"Read FAQs"),r.a.createElement("a",{className:"footer__link",href:"#"},"View all cities")))),r.a.createElement("div",{className:"footer__bottom-part"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2019 Uber Technologies Inc."),r.a.createElement("div",{className:"footer__info"},r.a.createElement("a",{className:"footer__info-link",href:"#"},"Privacy policy"),r.a.createElement("a",{className:"footer__info-link",href:"#"},"Terms of  use"),r.a.createElement("a",{className:"footer__info-link",href:"#"},"Pricing")),r.a.createElement("div",{className:"footer__social"},r.a.createElement("a",{href:"#",className:"footer__social-link"},r.a.createElement("img",{src:"./react_uber-eats/images/facebook-logo.png",alt:"uber facebook"})),r.a.createElement("a",{href:"#",className:"footer__social-link"},r.a.createElement("img",{src:"./react_uber-eats/images/twitter-logo.png",alt:"uber twitter"})),r.a.createElement("a",{href:"#",className:"footer__social-link"},r.a.createElement("img",{src:"./react_uber-eats/images/instagram-logo.png",alt:"uber instagram"}))))))},K=(a(164),function(){return Object(n.useEffect)(function(){window.scrollTo(0,0)},[]),null}),X=(a(165),a(67)),W=a.n(X),Z=a(73),$=(a(172),a(173),a(174),function(e){var t=e.modalOrderData,a=e.closeModal,c=e.uuid,o=e.isLoading,l=e.error,s=e.loadModalOrderData;return Object(n.useEffect)(function(){return document.body.style.height="100%",document.body.style.overflow="hidden",s(c),function(){document.body.style.height="auto",document.body.style.overflow="auto"}},[]),r.a.createElement("div",{className:"modal-container",onClick:function(){a()}},r.a.createElement("div",{className:"modal-container__window",onClick:function(e){e.stopPropagation()}},o?r.a.createElement(U,null):l?r.a.createElement(M,{message:l}):t?r.a.createElement("div",{className:"order"},r.a.createElement("button",{type:"button",className:"order__close-button",onClick:function(){a()}}),r.a.createElement("img",{className:"order__image",loading:"lazy",src:t.imageUrl,alt:t.title}),r.a.createElement("p",{className:"order__title"},t.title),r.a.createElement("p",{className:"order__description"},t.itemDescription),t.customizationsList.map(function(e){return r.a.createElement("div",{key:e.title},r.a.createElement("div",{className:"order__customization-type"},r.a.createElement("p",{className:"order__customization-name"},e.title),r.a.createElement("p",{className:"order__customization-description"},"Choose up to"," ",e.maxPermitted)),e.options.map(function(t){return r.a.createElement("div",{key:t.title,className:"order__customization-input-container"},e.maxPermitted>1?r.a.createElement("label",{className:"order__customization-label-checkbox"},r.a.createElement("input",{className:"hidden-input",name:e.title,type:"checkbox"})):r.a.createElement("label",{className:"order__customization-label-radio"},r.a.createElement("input",{className:"hidden-input",name:e.title,type:"radio"})),r.a.createElement("p",{className:"order__cusromization-value"},t.title),r.a.createElement("p",{className:"order__cusromization-price"},t.price))}))}),r.a.createElement("div",{className:"order__customization-type"},"Special instructions"),r.a.createElement("textarea",{className:"order__instructions-message",placeholder:"Leave a note to kitchen",name:"",id:"",cols:"30",rows:"1"}),r.a.createElement("div",{className:"order__confirmation-block"},r.a.createElement("div",{className:"order__controls-container"},r.a.createElement("button",{className:"order__item-decrease",type:"button"}),r.a.createElement("span",{className:"order__items-quantity"},"1"),r.a.createElement("button",{type:"button",className:"order__item-increase"})),r.a.createElement("button",{className:"order__add-to-basket",type:"button"},r.a.createElement("span",{className:"order__quantity-add-to-basket"},"Add 1 to order"),r.a.createElement("span",{className:"order__sum-of-order"},t.price)))):r.a.createElement(U,null)))});$.defaultProps={modalOrderData:null};var ee={setModalOrderData:k,loadModalOrderData:function(e){return function(t){var a,n;return O.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"SET_IS_LOADING"}),r.prev=1,r.next=4,O.a.awrap(fetch("https://mate-uber-eats-api.herokuapp.com/api/v1/menu-items/".concat(e)));case 4:return a=r.sent,r.next=7,O.a.awrap(a.json());case 7:n=r.sent,t(k(n)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),t(_(r.t0));case 14:t({type:"SET_IS_LOADED"});case 15:case"end":return r.stop()}},null,null,[[1,11]])}}},te=Object(s.b)(function(e){return{modalOrderData:A(e),isLoading:E(e),error:f(e)}},ee)($),ae=function(e){var t=e.productInfo,a=Object(n.useState)(!1),c=Object(G.a)(a,2),o=c[0],l=c[1];return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(te,{uuid:t.uuid,closeModal:function(){l(!1)}}),r.a.createElement("div",{role:"link",tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&l(!0)},className:"product",onClick:function(){l(!0)}},r.a.createElement("div",{className:"product__info"},r.a.createElement("h3",{className:"product__name"},t.title),r.a.createElement("p",{className:"product__description"},t.description),r.a.createElement("p",{className:"product__price"},{GBP:"\xa3"}[t.currencyCode],t.price)),r.a.createElement("div",{className:"product__image-container",style:{backgroundImage:"url(".concat(t.imageUrl,")")}})))},ne=function(e){var t=e.categorySection;return r.a.createElement("div",{className:"menu-category"},r.a.createElement("h2",{className:"menu-category__title"},t.title),r.a.createElement("ul",{className:"menu-category__list"},t.itemUuids.map(function(e,t){var a="".concat(t).concat(e.title);return r.a.createElement("li",{key:a},r.a.createElement(ae,{productInfo:e}))})))},re=function(e){var t=e.restaurantMenuSectionsInfo,a=Object(n.useMemo)(function(){var e={};return t.forEach(function(t){e[t.title.split(" ").join("-")]=r.a.createRef()}),e},[]),c=Object(n.useMemo)(function(){var e={};return t.forEach(function(t){e[t.title.split(" ").join("-")]=r.a.createRef()}),e},[]),o=Object(n.useRef)(null);return Object(n.useEffect)(function(){var e;return document.removeEventListener("scroll",e),e=W()(function(){Object.entries(a).forEach(function(e){var t=window.scrollY+74,a=e[1].current;a&&a.offsetTop<=t&&a.offsetTop+a.offsetHeight>t&&(o.current.scrollLeft=c[e[0]].current.offsetLeft)})},300),document.addEventListener("scroll",e),function(){document.removeEventListener("scroll",e)}},[a]),r.a.createElement("section",{className:"restaurant-menu"},r.a.createElement("div",{className:"content"},r.a.createElement("nav",{className:"restaurant-menu__nav"},r.a.createElement("ul",{ref:o,className:"restaurant-menu__categories-list-navigation categories-list-navigation"},t.map(function(e){return r.a.createElement("li",{ref:c[e.title.split(" ").join("-")],key:"#".concat(e.title.split(" ").join("-")),className:Q()(["categories-list-navigation__item"])},r.a.createElement(Z.Link,{className:"categories-list-navigation__link",activeClass:"categories-list-navigation__link_active",spy:!0,to:"".concat(e.title.split(" ").join("-")),smooth:!0,offset:-74},e.title))}))),r.a.createElement("ul",{className:"restaurant-menu__categories-list categories-list"},t.map(function(e,t,n){return r.a.createElement(Z.Element,{key:"".concat(e.title.split(" ").join("-"),"+\n                      categories-list__category"),name:e.title.split(" ").join("-")},r.a.createElement("li",{ref:a[e.title.split(" ").join("-")],id:e.title.split(" ").join("-"),className:"categories-list__category"},r.a.createElement(ne,{categorySection:e})))}))))},ce=function(e){var t=e.restaurantData,a=e.loadRestaurantData,c=e.isLoading,o=e.restaurantMenuSectionsInfo,l=e.error,s=Object(i.f)().params.restaurantAddress;return Object(n.useEffect)(function(){a(s)},[]),c&&!t?r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null),r.a.createElement(U,null)):l&&!t?r.a.createElement(M,{message:l}):t?r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null),r.a.createElement("div",{className:"restaurant__page"},r.a.createElement("div",{className:"restaurant__background-container",style:{backgroundImage:"url(".concat(t.heroImageUrls[5]?t.heroImageUrls[5].url:"https://www.europarl.europa.eu/news/img/mediasize_video.png",")")}},r.a.createElement("div",{className:"restaurant__info-container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"restaurant__info restaurant-info"},r.a.createElement("h1",{className:"restaurant-info__title"},t.title),r.a.createElement("div",{className:"restaurant__categories"},t.categories.join(" \u2022 ")),r.a.createElement("div",{className:"restaurant__eta-range"},t.etaRange?t.etaRange:"20 - 30 min"),r.a.createElement("div",{className:"restaurant__address"},t.location.address)))))),r.a.createElement("div",{className:"restaurant__page-container"},r.a.createElement(re,{restaurantMenuSectionsInfo:o}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null),r.a.createElement(U,null))};ce.defaultProps={restaurantData:null};var oe={loadRestaurantData:function(e){return function(t){t({type:"SET_IS_LOADING"}),fetch("https://mate-uber-eats-api.herokuapp.com/api/v1/restaurants/".concat(e)).then(function(e){return e.json()}).then(function(e){var a=e.data;t(function(e){return{type:"SAVE_RESTAURANT_DATA",payload:e}}(a))}).catch(function(e){return t(_(e.message))}).finally(function(){return t({type:"SET_IS_LOADED"})})}}},le=Object(s.b)(function(e){return{restaurantData:b(e),isLoading:E(e),restaurantMenuSectionsInfo:y(e),error:f(e)}},oe)(ce),se=function(){return r.a.createElement(s.a,{store:w},r.a.createElement(Y,null),r.a.createElement("main",null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:z}),r.a.createElement(i.a,{exact:!0,path:"/restaurantId/:restaurantAddress",component:le}))),r.a.createElement(J,null))};o.a.render(r.a.createElement(l.a,null,r.a.createElement(se,null)),document.getElementById("root"))},97:function(e,t,a){e.exports=a(175)}},[[97,1,2]]]);
//# sourceMappingURL=main.b72c9545.chunk.js.map